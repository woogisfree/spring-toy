<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${article.title}">Article11</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
</head>
<body>
<div class="p-5 mb-5 text-center</> bg-light">
    <h1 class="mb-3">My Blog</h1>
    <h4 class="mb-3">블로그에 오신 것을 환영합니다.</h4>
</div>

<div class="container mt-5">
    <div class="row" style="justify-content: center">
        <div class="col-lg-8">
            <article th:align="center">
                <input type="hidden" id="article-id" th:value="${article.articleId}">
                <header class="mb-4">
                    <h1 class="fw-bolder mb-1" th:text="${article.title}" th:align="center"></h1>
                    <div class="text-muted fst-italic mb-2"
                         th:text="${#temporals.format(article.createdAt, 'yyyy년 MM월 dd일')}"></div>
                </header>
                <section class="mb-5">
                    <p class="fs-5 mb-4" th:text="${article.content}"></p>
                </section>
                <button type="button" id="modify-btn"
                        th:onclick="|location.href='@{/new-article?id={articleId}(articleId=${article.articleId})}'|"
                        class="btn btn-primary btn-sm">수정
                </button>
                <button type="button" id="delete-btn"
                        class="btn btn-secondary btn-sm">삭제
                </button>
                <button type="button" class="btn btn-success btn-sm"
                        th:onclick="|location.href='@{/articles}'|">목록으로
                </button>
            </article>
            <!--            comment 등록-->
            <new-comment-form>
                <div class="form-group">
                    <h5 style="margin: 1rem 0" th:text="${article.comments.size()}  + '개의 댓글'"></h5>
                    <textarea id="comment-content" placeholder="댓글을 작성하세요" type="text" class="form-control" style="height: 70px; padding: 1rem 1rem 1.5rem; margin-bottom: 1rem; border-radius: 4px"></textarea>
                    <div style="display: flex; justify-content: flex-end">
                        <button type="button" id="create-comment-btn"
                                class="btn btn-secondary btn-sm mb-3">댓글 작성
                        </button>
                    </div>
                </div>
            </new-comment-form>

            <!--            comment 목록 (수정, 삭제 가능)-->
            <comment-list th:align="center" th:each="comment : ${article.comments}">
                <div class="card mt-2">
                    <div class="card-header">
                        <p class="card-text" th:text="${comment.createdBy}"></p>
                        <p class="card-text text-muted" th:text="${#temporals.format(comment.createdDate, 'yyyy-MM-dd HH:mm')}"></p>
                    </div>
                    <div class="card-body">
                        <h5 class="card-title" th:text="${comment.content}"></h5>
                    </div>
                </div>
            </comment-list>
        </div>
    </div>
</div>

<script src="/js/article.js"></script>
</body>
</html>